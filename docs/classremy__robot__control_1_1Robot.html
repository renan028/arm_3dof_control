<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RemyRobotControl: remy_robot_control::Robot Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RemyRobotControl
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceremy__robot__control.html">remy_robot_control</a></li><li class="navelem"><a class="el" href="classremy__robot__control_1_1Robot.html">Robot</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classremy__robot__control_1_1Robot-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">remy_robot_control::Robot Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="robot_8h_source.html">robot.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4a80ab2cd27f272624adedb6c50a165b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a4a80ab2cd27f272624adedb6c50a165b">Robot</a> ()</td></tr>
<tr class="separator:a4a80ab2cd27f272624adedb6c50a165b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41cd7892c19e3da20d94a5d4f09ca10f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a41cd7892c19e3da20d94a5d4f09ca10f">Robot</a> (float q1, float q2, float q3)</td></tr>
<tr class="separator:a41cd7892c19e3da20d94a5d4f09ca10f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52af488679a6dc5d6670e0af48ee2e94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a52af488679a6dc5d6670e0af48ee2e94">~Robot</a> ()=default</td></tr>
<tr class="separator:a52af488679a6dc5d6670e0af48ee2e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af796dc5d401a032acc56861d7fcb77c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#af796dc5d401a032acc56861d7fcb77c4">setSettings</a> (const <a class="el" href="structremy__robot__control_1_1RemyRobotSettings.html">RemyRobotSettings</a> &amp;settings)</td></tr>
<tr class="separator:af796dc5d401a032acc56861d7fcb77c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db597f41a81c0beb45dec5f39773838"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a9db597f41a81c0beb45dec5f39773838">forwardKinematics</a> (const Eigen::Vector3f &amp;<a class="el" href="test__ik_8h.html#af1f39187f6cdba930d3102d6942021d6">joints</a>)</td></tr>
<tr class="separator:a9db597f41a81c0beb45dec5f39773838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a557fe1629b3043e0baa6756a30ca8083"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a557fe1629b3043e0baa6756a30ca8083">inverseKinematics</a> (float x, float y, float z)</td></tr>
<tr class="separator:a557fe1629b3043e0baa6756a30ca8083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c83bcf1bee73ad826497c07b00e1dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a77c83bcf1bee73ad826497c07b00e1dd">setFk</a> (<a class="el" href="namespaceremy__robot__control.html#a4b670130468e92c8c99e26beefd37b6f">FkType</a> type=<a class="el" href="namespaceremy__robot__control.html#a4b670130468e92c8c99e26beefd37b6fa31d4541b8e926a24f0c9b835b68cfdf3">FkType::fast</a>)</td></tr>
<tr class="separator:a77c83bcf1bee73ad826497c07b00e1dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8845c1ccbc94ad3cf2a48dbc6257274e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a8845c1ccbc94ad3cf2a48dbc6257274e">setIk</a> (<a class="el" href="namespaceremy__robot__control.html#a7576a7042848131c862ecb1a83e6bb6e">IkType</a> type=<a class="el" href="namespaceremy__robot__control.html#a7576a7042848131c862ecb1a83e6bb6eaf31285b27408ceebfd949e82c843a05a">IkType::analytical</a>)</td></tr>
<tr class="separator:a8845c1ccbc94ad3cf2a48dbc6257274e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed8d88913878414c81d3c22e0df9033e"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#aed8d88913878414c81d3c22e0df9033e">getJoints</a> ()</td></tr>
<tr class="separator:aed8d88913878414c81d3c22e0df9033e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee9bf00ac462e88b3313fcf7cf445118"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#aee9bf00ac462e88b3313fcf7cf445118">update</a> (const Eigen::Vector3f &amp;u, float dt)</td></tr>
<tr class="separator:aee9bf00ac462e88b3313fcf7cf445118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d22e19bf12d69fa99046786f7c7057a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceremy__robot__control.html#ac744a8ea15bf68b11e3341bc72ea9342">JacobMP</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a8d22e19bf12d69fa99046786f7c7057a">jacob</a> (const Eigen::Vector3f &amp;<a class="el" href="test__ik_8h.html#af1f39187f6cdba930d3102d6942021d6">joints</a>)</td></tr>
<tr class="separator:a8d22e19bf12d69fa99046786f7c7057a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a65d08160e5c0f91011014dd6f2694e0b"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a65d08160e5c0f91011014dd6f2694e0b">fastForwardKinematics</a> (const Eigen::Vector3f &amp;<a class="el" href="test__ik_8h.html#af1f39187f6cdba930d3102d6942021d6">joints</a>)</td></tr>
<tr class="separator:a65d08160e5c0f91011014dd6f2694e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a09d0556766fd8ba041091c7f5c1cc"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#ab8a09d0556766fd8ba041091c7f5c1cc">forwardKinematicsGeneric</a> (const Eigen::Vector3f &amp;<a class="el" href="test__ik_8h.html#af1f39187f6cdba930d3102d6942021d6">joints</a>)</td></tr>
<tr class="separator:ab8a09d0556766fd8ba041091c7f5c1cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2192f6be3c5e0407632f218b9fb5d3"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#afc2192f6be3c5e0407632f218b9fb5d3">jacobTransposeIK</a> (float x, float y, float z, const Eigen::Vector3f &amp;q0={0, 0, 0}, float error=1e-3)</td></tr>
<tr class="separator:afc2192f6be3c5e0407632f218b9fb5d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f7f33fa2f5bc4cdd83f2c2c97db683"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#ae0f7f33fa2f5bc4cdd83f2c2c97db683">dampedIK</a> (float x, float y, float z, const Eigen::Vector3f &amp;q0={0, 0, 0}, float error=1e-3)</td></tr>
<tr class="separator:ae0f7f33fa2f5bc4cdd83f2c2c97db683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1120c7173f56ff5293bc29604c9d2c37"><td class="memItemLeft" align="right" valign="top">Eigen::Vector3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a1120c7173f56ff5293bc29604c9d2c37">analyticalIK</a> (float x, float y, float z)</td></tr>
<tr class="separator:a1120c7173f56ff5293bc29604c9d2c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2daad9df3ede21e8fdb2ff7f72f5c97a"><td class="memItemLeft" align="right" valign="top">std::function&lt; Eigen::Vector3f(const Eigen::Vector3f &amp;<a class="el" href="test__ik_8h.html#af1f39187f6cdba930d3102d6942021d6">joints</a>)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a2daad9df3ede21e8fdb2ff7f72f5c97a">fk_</a></td></tr>
<tr class="separator:a2daad9df3ede21e8fdb2ff7f72f5c97a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a526b6c74d861c7e737e9ba3d590e93a5"><td class="memItemLeft" align="right" valign="top">std::function&lt; Eigen::Vector3f(float, float, float)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a526b6c74d861c7e737e9ba3d590e93a5">ik_</a></td></tr>
<tr class="separator:a526b6c74d861c7e737e9ba3d590e93a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c526bd7001f6618b6a5959a466dc258"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="structremy__robot__control_1_1RemyJoints.html">RemyJoints</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classremy__robot__control_1_1Robot.html#a4c526bd7001f6618b6a5959a466dc258">joints_</a></td></tr>
<tr class="separator:a4c526bd7001f6618b6a5959a466dc258"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The Class <a class="el" href="classremy__robot__control_1_1Robot.html">Robot</a> calculates the forward and inverse kinematics of a R-RR (elbow)robot with the following DH parameters: </p><pre class="fragment">* +-------+-------+--------+--------+-------+
* | Link  | Twist | Length | Offset | angle |
* +-------+-------+--------+--------+-------+
* |   0   |   0   |   0    |   -    |   -   |
* +-------+-------+--------+--------+-------+
* |   1   |  pi/2 |   10   |   -    |   t1  |
* +-------+-------+--------+--------+-------+
* |   2   |   0   |   5    |   -    |   t2  |
* +-------+-------+--------+--------+-------+
* |   3   |   0   |   5    |   -    |   t3  |
* +-------+-------+--------+--------+-------+
* </pre><p>And the following joint limits: </p><pre class="fragment">* +-------+-------+-------+
* | Joint |  Min  |  Max  |
* +-------+-------+-------+
* |   1   |  -pi  |   pi  |
* +-------+-------+-------+
* |   2   | -pi/2 | pi/2  |
* +-------+-------+-------+
* |   3   |  -pi  |   pi  |
* +-------+-------+-------+
* </pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4a80ab2cd27f272624adedb6c50a165b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a80ab2cd27f272624adedb6c50a165b">&#9670;&nbsp;</a></span>Robot() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remy_robot_control::Robot::Robot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a41cd7892c19e3da20d94a5d4f09ca10f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41cd7892c19e3da20d94a5d4f09ca10f">&#9670;&nbsp;</a></span>Robot() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">remy_robot_control::Robot::Robot </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>q1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>q2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>q3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a52af488679a6dc5d6670e0af48ee2e94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52af488679a6dc5d6670e0af48ee2e94">&#9670;&nbsp;</a></span>~Robot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">remy_robot_control::Robot::~Robot </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1120c7173f56ff5293bc29604c9d2c37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1120c7173f56ff5293bc29604c9d2c37">&#9670;&nbsp;</a></span>analyticalIK()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3f remy_robot_control::Robot::analyticalIK </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>It computes the analytical solution for inverse kinematics, for this specific case by algebric manipulation of the translation vector, and using trigonometric equalities. Note that we may have more than one solution for some positions. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td></td></tr>
    <tr><td class="paramname">y</td><td></td></tr>
    <tr><td class="paramname">z</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the joints to reach (x, y, z) </dd></dl>

</div>
</div>
<a id="ae0f7f33fa2f5bc4cdd83f2c2c97db683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0f7f33fa2f5bc4cdd83f2c2c97db683">&#9670;&nbsp;</a></span>dampedIK()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3f remy_robot_control::Robot::dampedIK </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>q0</em> = <code>{0,&#160;0,&#160;0}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>error</em> = <code>1e-3</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>It uses the Damped least squares method to iteratively compute the inverse kinematics. The algorithm' steps are: 1) <img class="formulaInl" alt="$ e = x_g - x $" src="form_22.png"/>, 2) compute <img class="formulaInl" alt="$ J(q) $" src="form_23.png"/>, 3) <img class="formulaInl" alt="$ q = q + J^t * (J * J^t + \lambda^2 * I)^{-1} * e $" src="form_25.png"/> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td></td></tr>
    <tr><td class="paramname">y</td><td></td></tr>
    <tr><td class="paramname">z</td><td></td></tr>
    <tr><td class="paramname">q0</td><td>initial guess for joints </td></tr>
    <tr><td class="paramname">error</td><td>the desired error </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the joints to reach (x, y, z) </dd></dl>

</div>
</div>
<a id="a65d08160e5c0f91011014dd6f2694e0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65d08160e5c0f91011014dd6f2694e0b">&#9670;&nbsp;</a></span>fastForwardKinematics()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3f remy_robot_control::Robot::fastForwardKinematics </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>joints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The position was analytically calculated and the result was pasted here </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">joints</td><td>the current values for robot joints </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9db597f41a81c0beb45dec5f39773838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9db597f41a81c0beb45dec5f39773838">&#9670;&nbsp;</a></span>forwardKinematics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3f remy_robot_control::Robot::forwardKinematics </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>joints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It returns the foward kinematics for the R-RR robot. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">joints</td><td>the current values for robot joints </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the end-effector position (not pose) </dd></dl>

</div>
</div>
<a id="ab8a09d0556766fd8ba041091c7f5c1cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8a09d0556766fd8ba041091c7f5c1cc">&#9670;&nbsp;</a></span>forwardKinematicsGeneric()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3f remy_robot_control::Robot::forwardKinematicsGeneric </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>joints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The forward kinematics is computed by the multiplication of the homogeneous transformations <img class="formulaInl" alt="$ T_0*T_1*T_2*T_3 $" src="form_21.png"/>, which can be formed directly from the DH parameters. T = </p><pre class="fragment">* +--------------+------------------------+-----------------------+--------------+
* |  cos(theta)  | -sin(theta)*cos(alpha) | sin(theta)sin(alpha)  | a*cos(theta) |
* +--------------+------------------------+-----------------------+--------------+
* |  sin(theta)  | cos(theta)*cos(alpha)  | -cos(theta)sin(alpha) | a*sin(theta) |
* +--------------+------------------------+-----------------------+--------------+
* |      0       |       sin(alpha)       |      cos(alpha)       |      d       |
* +--------------+------------------------+-----------------------+--------------+
* |      0       |           0            |          0            |      1       |
* +--------------+------------------------+-----------------------+--------------+
* </pre> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">joints</td><td>the current values for robot joints </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aed8d88913878414c81d3c22e0df9033e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed8d88913878414c81d3c22e0df9033e">&#9670;&nbsp;</a></span>getJoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3f remy_robot_control::Robot::getJoints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It returns the robot joints. This is not the one that is sent (no connection here) </p><dl class="section return"><dt>Returns</dt><dd>robot's joints </dd></dl>

</div>
</div>
<a id="a557fe1629b3043e0baa6756a30ca8083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a557fe1629b3043e0baa6756a30ca8083">&#9670;&nbsp;</a></span>inverseKinematics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3f remy_robot_control::Robot::inverseKinematics </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It returns the inverse kinematics for the R-RR (elbow) robot. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td></td></tr>
    <tr><td class="paramname">y</td><td></td></tr>
    <tr><td class="paramname">z</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the end-effector position (not pose) </dd></dl>

</div>
</div>
<a id="a8d22e19bf12d69fa99046786f7c7057a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d22e19bf12d69fa99046786f7c7057a">&#9670;&nbsp;</a></span>jacob()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceremy__robot__control.html#ac744a8ea15bf68b11e3341bc72ea9342">JacobMP</a> remy_robot_control::Robot::jacob </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>joints</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It calculates the Jacobian ( <img class="formulaInl" alt="$\frac{dP}{d\theta}$" src="form_26.png"/> only translation) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">joints</td><td>the current values for robot joints </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the jacobian as an eigen matrix (3x3) </dd></dl>

</div>
</div>
<a id="afc2192f6be3c5e0407632f218b9fb5d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc2192f6be3c5e0407632f218b9fb5d3">&#9670;&nbsp;</a></span>jacobTransposeIK()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Vector3f remy_robot_control::Robot::jacobTransposeIK </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>q0</em> = <code>{0,&#160;0,&#160;0}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>error</em> = <code>1e-3</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>It uses the Jacobian to iteratively compute the inverse kinematics. The algorithm' steps are: 1) <img class="formulaInl" alt="$ e = x_g - x $" src="form_22.png"/>, 2) compute <img class="formulaInl" alt="$ J(q) $" src="form_23.png"/>, 3) <img class="formulaInl" alt="$ q = q + J^t * e * \alpha $" src="form_24.png"/> </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td></td></tr>
    <tr><td class="paramname">y</td><td></td></tr>
    <tr><td class="paramname">z</td><td></td></tr>
    <tr><td class="paramname">q0</td><td>initial guess for joints </td></tr>
    <tr><td class="paramname">error</td><td>the desired error </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the joints to reach (x, y, z) </dd></dl>

</div>
</div>
<a id="a77c83bcf1bee73ad826497c07b00e1dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77c83bcf1bee73ad826497c07b00e1dd">&#9670;&nbsp;</a></span>setFk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remy_robot_control::Robot::setFk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceremy__robot__control.html#a4b670130468e92c8c99e26beefd37b6f">FkType</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code><a class="el" href="namespaceremy__robot__control.html#a4b670130468e92c8c99e26beefd37b6fa31d4541b8e926a24f0c9b835b68cfdf3">FkType::fast</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It changes the foward kinematics method </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>FKType </dd></dl>

</div>
</div>
<a id="a8845c1ccbc94ad3cf2a48dbc6257274e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8845c1ccbc94ad3cf2a48dbc6257274e">&#9670;&nbsp;</a></span>setIk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remy_robot_control::Robot::setIk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceremy__robot__control.html#a7576a7042848131c862ecb1a83e6bb6e">IkType</a>&#160;</td>
          <td class="paramname"><em>type</em> = <code><a class="el" href="namespaceremy__robot__control.html#a7576a7042848131c862ecb1a83e6bb6eaf31285b27408ceebfd949e82c843a05a">IkType::analytical</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It changes the inverse kinematics method </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>IKType </dd></dl>

</div>
</div>
<a id="af796dc5d401a032acc56861d7fcb77c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af796dc5d401a032acc56861d7fcb77c4">&#9670;&nbsp;</a></span>setSettings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remy_robot_control::Robot::setSettings </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structremy__robot__control_1_1RemyRobotSettings.html">RemyRobotSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It sets the robot settings </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structremy__robot__control_1_1RemyRobotSettings.html">RemyRobotSettings</a> </dd></dl>

</div>
</div>
<a id="aee9bf00ac462e88b3313fcf7cf445118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee9bf00ac462e88b3313fcf7cf445118">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void remy_robot_control::Robot::update </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Vector3f &amp;&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It is the system model <img class="formulaInl" alt="$ \dot{q}=u $" src="form_19.png"/>, thus <img class="formulaInl" alt="$ q=u*dt $" src="form_20.png"/>. It integrates the input control. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">u</td><td>the input control </td></tr>
    <tr><td class="paramname">dt</td><td>the integration step </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2daad9df3ede21e8fdb2ff7f72f5c97a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2daad9df3ede21e8fdb2ff7f72f5c97a">&#9670;&nbsp;</a></span>fk_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::function&lt;Eigen::Vector3f(const Eigen::Vector3f&amp; <a class="el" href="test__ik_8h.html#af1f39187f6cdba930d3102d6942021d6">joints</a>)&gt; remy_robot_control::Robot::fk_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a526b6c74d861c7e737e9ba3d590e93a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a526b6c74d861c7e737e9ba3d590e93a5">&#9670;&nbsp;</a></span>ik_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::function&lt;Eigen::Vector3f(float, float, float)&gt; remy_robot_control::Robot::ik_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4c526bd7001f6618b6a5959a466dc258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c526bd7001f6618b6a5959a466dc258">&#9670;&nbsp;</a></span>joints_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="structremy__robot__control_1_1RemyJoints.html">RemyJoints</a>&gt; remy_robot_control::Robot::joints_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/remy_robot_control/<a class="el" href="robot_8h_source.html">robot.h</a></li>
<li>src/<a class="el" href="robot_8cc.html">robot.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
